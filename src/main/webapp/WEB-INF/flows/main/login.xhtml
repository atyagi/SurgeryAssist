<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:c="http://java.sun.com/jsp/jstl/core"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				template="layouts/pre-login.xhtml">

<ui:define name="content">
<div class="row">
	<div class="span8">
		<h3>Welcome to SurgeryAssist</h3>
	</div>
</div>
<c:if test="${not empty param.login_error}">
<div class="row">
	<div class="span8 error">
		Your login attempt was not successful, try again.<br />
		Reason: #{sessionScope.SPRING_SECURITY_LAST_EXCEPTION.message}
	</div>
</div>
</c:if>
<div class="row">
	<div class="span4">
		<form name="f" action="${request.contextPath}/spring/loginProcess" method="post">
			<fieldset>
				<label>Login/email</label>
				<c:if test="${not empty param.login_error}">
					<c:set var="username" value="${sessionScope.SPRING_SECURITY_LAST_USERNAME}"/>
				</c:if>
				<input type="text" name="j_username" value="#{username}" />
				<label>Password</label>
				<input type="password" name="j_password" />
				<a href="forgot_password"><small class="help-block">Forgot password?</small></a>
				<label class="checkbox"><input type="checkbox" name="_spring_security_remember_me" />Remember me</label>
			</fieldset>
			<div class="btn-toolbar">
				<button type="submit" class="btn btn-large btn-primary" name="login">LOGIN</button>
				<a type="button" class="btn btn-large btn-primary" href="registration">REGISTER</a>
			</div>
		</form>
	</div>
</div>
</ui:define>
</ui:composition>