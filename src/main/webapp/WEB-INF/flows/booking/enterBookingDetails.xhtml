<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:p="http://primefaces.org/ui"
				template="/WEB-INF/layouts/standard.xhtml">
<ui:define name="notes">
	<p>
		Check the calendar widget and the tooltips on the credit card fields.
		The form uses Ajax-based validations to redisplay server-side errors without refreshing the entire page.
		The booking bean backing the form is a flow-scoped object (see <strong>booking-flow.xml</strong>).		
	</p>
</ui:define>
<ui:define name="content">
	<h:form id="bookingForm">
		<p:fieldset legend="Book Availability">
			<p:messages />
			<div class="large">
				<div id="name_of_asc">
					#{selectedAvailability.availabilityId.userId.userInfoId.firstName} #{selectedAvailability.availabilityId.userId.userInfoId.lastName}
				</div>
				<div id="address_of_asc">
					<address>
					#{selectedAvailability.availabilityId.userId.userInfoId.locationId.address}
					<br/>
					#{selectedAvailability.availabilityId.userId.userInfoId.locationId.city}, #{selectedAvailability.availabilityId.userId.userInfoId.locationId.stateCode.stateCodeID}, #{selectedAvailability.availabilityId.userId.userInfoId.locationId.zipCode}
					</address>
				</div>
			</div>
			<hr/>
			<div class="header">
				<h3>Patient Information</h3>
			</div>
			<div class="field">
				<div class="span-4">
					<h:outputLabel value="Patient First Name" for="patientFirstName"/>
				</div>
				<div class="span-5">
					<p:inputText id="patientFirstName" value="#{newPatient.firstName}" />
				</div>
			</div>
			<div class="field">
				<div class="span-4">
					<h:outputLabel value="Patient Last Name" for="patientLastName"/>
				</div>
				<div class="span-5">
					<p:inputText id="patientLastName" value="#{newPatient.lastName}" />
				</div>
			</div>
			<div class="field">
				<div class="span-4">
					<h:outputLabel value="Choose SurgeryType" for="surgeryTypeCode" />
				</div>
				<div class="span-5">
					<p:selectOneMenu id="surgeryTypeCode" value="#{newPatient.surgeryTypeCode}">
						<f:selectItems value="#{flowScope.selectItemMap['surgeryTypes']}" var="surgeryType"
							itemLabel="#{surgeryType.surgeryFullName}" itemValue="#{surgeryType.surgeryId}"/>
						<f:converter converterId="surgeryTypeConverter" />
					</p:selectOneMenu>
				</div>
			</div>
			<hr />
			<div class="header">
				<h3>Patient Insurance Information</h3>
			</div>
			<div class="field">
				<div class="span-4">
					<h:outputLabel value="Insurance Code" for="insuranceCode"/>
				</div>
				<div class="span-5">
					<p:inputText id="insuranceCode" value="#{newInsuranceType.insuranceCode}" />
				</div>
			</div>
			<div class="field">
				<div class="span-4">
					<h:outputLabel value="Insurance Name" for="insuranceName" />
				</div>
				<div class="span-5">
					<p:inputText id="insuranceName" value="#{newInsuranceType.insuranceName}"  />
				</div>
			</div>
			<div class="field">
				<div class="span-4">
					<h:outputLabel for="insuranceDescription" value="Insurance Description" />
				</div>
				<div class="span-5">
					<p:inputTextarea rows="2" cols="5" id="insuranceDescription" style="width: 77%; height: 20px;" autoResize="false"
						value="#{newInsuranceType.insuranceDescription}" />
				</div>
			</div>
			<div class="field">
				<div class="span-4">
					<h:outputLabel value="Insurance Policy Number" for="insurancePolicyNumber" />
				</div>
				<div class="span-5">
					<p:inputText id="insurancePolicyNumber" value="#{newInsuranceType.insurancePolicyNumber}"  />
				</div>
			</div>
			<div>
				<p:commandButton id="proceed" action="proceed" value="Proceed" update="@form" />
				<p:commandButton id="cancel_preconfirm" value="Cancel" action="cancel" />
			</div>		
		</p:fieldset>
	</h:form>
</ui:define>
</ui:composition>